{% extends 'base.html.twig' %}

{% block body %}

<div class="container">
    <form method="get" action="{{ path('app_home') }}">
        <div class="form-row">
            <div class="form-group col-md-2">
                {{ form_label(form.campus) }}
                {{ form_widget(form.campus, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div class="form-group col-md-3">
                {{ form_label(form.nom) }}
                {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div class="form-group col-md-2">
                {{ form_label(form.dateHeureDebut) }}
                {{ form_widget(form.dateHeureDebut, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div class="form-group col-md-2">
                {{ form_label(form.dateLimiteInscription) }}
                {{ form_widget(form.dateLimiteInscription, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div class="form-group col-md-2">
                {{ form_label(form.organisateur) }}
                {{ form_widget(form.organisateur, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
        <div>{{  form_widget(form) }}</div>
        <button>Rechercher</button>

    </form>

    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>Nom</th>
            <th>Date de début</th>
            <th>Date de fin</th>
            <th>Inscrits / Places</th>
            <th>État</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for sortie in sorties %}
        <tr>
            <td>{{ sortie.nom }}</td>
            <td>{{ sortie.dateHeureDebut|date('d/m/Y H:i') }}</td>
            <td>{{ sortie.dateLimiteInscription|date('d/m/Y H:i') }}</td>
            {#  <td>{{ sortie.inscriptions.count }} / {{ sortie.nbInscriptionMax }}</td> #}
            <td>{% if sortie.etat == 'Ouverte' %}<span class="badge badge-success">{{ sortie.etat }}</span>{% endif %}
                {% if sortie.etat == 'Clôturée' %}<span class="badge badge-secondary">{{ sortie.etat }}</span>{% endif %}
                {% if sortie.etat == 'Annulée' %}<span class="badge badge-danger">{{ sortie.etat }}</span>{% endif %}
                {% if sortie.etat == 'Passée' %}<span class="badge badge-secondary">{{ sortie.etat }}</span>{% endif %}
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
<script>
    $('.js-datepicker').datepicker({
        format:'yyyy.MM.dd'
    });
    $('.datetimepicker').datetimepicker({
        format: 'YYYY-MM-DD hh:mm:ss'
    });
</script>
{% endblock %}


